<!DOCTYPE html>
<html>
<head>
<script src="/jslib.js" type="text/javascript"></script>
<link rel="stylesheet" href="/menu.css">
</head>
<body>
<div id="pageContent"></div>


<script type="text/javascript">
    const blocks = [
        {
            "name" : "WiFi Uplink",
            "elements" : [
                { "name" : "Hostname",              "tag" : "__WIFI_HOSTNAME__"                                                       },
                { "name" : "IP",                    "tag" : "__WIFI_IP__"                                                             },
                { "name" : "Gateway",               "tag" : "__WIFI_GATEWAY__"                                                        },
                { "name" : "Subnetmask",            "tag" : "__WIFI_SUBNET__"                                                         },
                { "name" : "MAC",                   "tag" : "__WIFI_MAC__"                                                            },
                { "name" : "Signal [dBm]",          "tag" : "__WIFI_STRENGTH__", "flags" : [ "refresh" ]                              },
                { "name" : "Enabled",               "tag" : "__WIFI_ENABLED__", "type" : "slider", "flags" : [ "refresh", "readonly" ]}
            ]
        },
        {
            "name" : "Access Point",
            "elements" : [
                { "name" : "IP",                 "tag" : "__ACCESS_POINT_IP__"                                                                },
                { "name" : "Subnetmask",         "tag" : "__ACCESS_POINT_SUBNET__"                                                            },
                { "name" : "MAC",                "tag" : "__ACCESS_POINT_MAC__"                                                               },
                { "name" : "Connections",        "tag" : "__ACCESS_POINT_CONNECTED_STATIONS__", "flags" : [ "refresh" ]                       },
                { "name" : "Enabled",            "tag" : "__ACCESS_POINT_ENABLED__", "type" : "slider", "flags" : [ "refresh", "readonly" ]   },
                { "name" : "Always On",          "tag" : "__ACCESS_POINT_ALWAYS_ON__",  "type" : "slider", "flags" : [ "refresh", "readonly" ]}
            ]
        },
        {
            "name" : "Hardware",
            "elements" : [
                { "name" : "Core",               "tag" : "__SYSTEM_CPU_CORE__"}
            ]
        },
        {
            "name" : "Memory",
            "elements" : [
                { "name" : "Free Heap [kB]",  "tag" : "__SYSTEM_HEAP_FREE__" },
                { "name" : "Used Flash [kB]", "tag" : "__SYSTEM_FLASH_USED__"},
                { "name" : "Flash Size [kB]", "tag" : "__SYSTEM_FLASH_SIZE__"},
                { "name" : "RAM Size [kB]",   "tag" : "__SYSTEM_RAM_SIZE__"  }
            ]
        },
    ];

    function repaint() {
        processBlocks(function(){ return window.frameElement.parentNode.style.display !== "none"},
                      document.getElementById("pageContent"),
                      blocks,
                      2,
                      "60%");
    }

    repaint();
</script>
</body>
</html>
